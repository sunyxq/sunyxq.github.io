(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{383:function(t,e,s){"use strict";s.r(e);var a=s(25),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"混合内容-mixed-content"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#混合内容-mixed-content"}},[t._v("#")]),t._v(" 混合内容(Mixed Content)")]),t._v(" "),s("blockquote",[s("p",[t._v("https 页面中不能使用 http 请求，http 页面中可以使用 https 请求")])]),t._v(" "),s("h2",{attrs:{id:"什么是混合内容"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#什么是混合内容"}},[t._v("#")]),t._v(" 什么是混合内容")]),t._v(" "),s("p",[t._v("初始"),s("code",[t._v("HTML")]),t._v("内容通过安全的"),s("code",[t._v("https")]),t._v("连接加载，其他资源（如图片、视频、样式表、脚本）通过不安全的"),s("code",[t._v("http")]),t._v("连接加载。因为页面的初始请求是安全的，但又加载了不安全的"),s("code",[t._v("http")]),t._v("内容，因此称之为混合内容。")]),t._v(" "),s("h2",{attrs:{id:"解决方案"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决方案"}},[t._v("#")]),t._v(" 解决方案")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("相对协议\n如果网站有"),s("code",[t._v("https")]),t._v("和"),s("code",[t._v("http")]),t._v("资源，使用"),s("strong",[t._v("相对协议")]),t._v("可以根据当前网站的协议，浏览器自行选择通过"),s("code",[t._v("https")]),t._v("还是"),s("code",[t._v("http")]),t._v("发起请求，设置相对协议就是将"),s("code",[t._v("url")]),t._v("的协议("),s("code",[t._v("https")]),t._v(","),s("code",[t._v("http")]),t._v(")去掉。如："),s("code",[t._v('<img src="//domain.com/img/logo.png">')])])]),t._v(" "),s("li",[s("p",[t._v("被动混合内容\n"),s("code",[t._v("被动混合内容")]),t._v("指不与页面其余部分交互的内容，包括图片、视频和音频内容，以及无法与页面其余部分进行交互的资源。浏览器会"),s("code",[t._v("block")]),t._v("掉"),s("code",[t._v("https")]),t._v("页面上的"),s("code",[t._v("http")]),t._v("请求。所以可以通过"),s("code",[t._v("img.src")]),t._v("发送"),s("code",[t._v("get")]),t._v("请求。")])])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sendRequest")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" img "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  img"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://domain.com/url'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"参考"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),s("ol",[s("li",[s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Security/MixedContent",target:"_blank",rel:"noopener noreferrer"}},[t._v("混合内容"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://segmentfault.com/a/1190000015244759",target:"_blank",rel:"noopener noreferrer"}},[t._v("关于混合内容"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://juejin.im/post/5c204153e51d45351c4f21e4#heading-6",target:"_blank",rel:"noopener noreferrer"}},[t._v("在 https 中引入 http 资源所导致的问题"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=n.exports}}]);